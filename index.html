<!DOCTYPE HTML>
<html>
	<head>
		<title>SDU_2025_DLB.Web</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="icon" href="images/avatar.jpg">
		<style>
			.result-box {
				padding: 20px;
				background: #f8f9fa;
				border-radius: 8px;
				margin-top: 15px;
			}
			.fault-type {
				color: #dc3545;
				font-size: 1.2em;
				font-weight: bold;
				margin: 10px 0;
			}
			.timestamp {
				color: #6c757d;
				font-size: 0.9em;
			}
			#dropZone.dragover {
				border-color: #2196F3 !important;
				background-color: #f8f9fa;
			}
			
		</style>
	</head>
	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<div class="inner">
				<a href="#" class="image avatar"><img src="images/avatar.jpg" alt="" /></a>
				<h1><font face="STZhongsong"><strong>故障检测Web软件界面</strong></font></h1>
				<p>
					<font face="">如果您在使用过程中，发现任何问题，可及时通过邮件联系我们 <a href="mailto:1802868163@qq.com">💬</a></font>
				</p>
			</div>
		</header>

		<!-- Main -->
		<div id="main">
			<header class="major">
				<h3><font face="STZhongsong">💡 使用须知</font></h3>
			</header>
			<font face="NSimSun" color=black>
				<p>1. 将故障数据拖入到下面的搜索框当中（仅支持CSV格式）；<br>
				2. 输出对应的结果，结果包含故障相位，故障位置，故障原因等。</font><br>
				再次提醒您，在使用过程中遇到任何问题，可点击左侧💬联系我们，感谢您的信任与支持！

			<!-- 检测框 -->
			<header class="major">
				<h1><font face="STZhongsong">🎖️ 检测框（点击导入CSV文件）</font></h1>
			</header>
			<div class="box" id="dropZone" 
				style="border: 2px dashed #ccc; padding: 20px;"
				ondrop="dropHandler(event)"
				ondragover="dragoverHandler(event)"
				ondragleave="dragleaveHandler(event)">
				<input type="text" class="input" id="fileInput" 
						placeholder="请拖入数据文件或点击选择" 
						readonly
						style="background-color: #f8f9fa">
				<br><input type="button" value="检测" class="button" onclick="processFile()">
			</div>

			<!-- 结果显示 -->
			<div id="outputBox" style="margin-top: 20px; display: none;">
				<h3><font face="STZhongsong">检测结果：</font></h3>
				<div id="resultContent" 
					style="border: 1px solid #ddd; 
							padding: 15px;
							background-color: #fff;
							border-radius: 4px;">
					文件信息将在此显示
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer id="footer">
			<div class="inner">
				<ul class="copyright">
					<li>&copy; Xinyue Zhang, Yonghao Zhang, and Yimin Zhang</li>
					<li>Design: <a href="https://space.bilibili.com/513834419?spm_id_from=333.1007.0.0">BiliBili</a></li>
				</ul>
			</div>
		</footer>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

		<script>
			// 内联故障数据映射表
			const fileInfoMap = {
				"故障文件1165-6846.csv": "断线故障",
				"故障文件1165-6847.csv": "断线故障",
				"故障文件1313-7769.csv": "断线故障",
				"故障文件1313-7770.csv": "断线故障",
				"故障文件1313-7773.csv": "断线故障",
				"故障文件1097-6441.csv": "风偏故障",
				"故障文件1097-6442.csv": "风偏故障",
				"故障文件1172-6891.csv": "风偏故障",
				"故障文件1172-6892.csv": "风偏故障",
				"故障文件1269-7484.csv": "风偏故障",
				"故障文件1269-7489.csv": "风偏故障",
				"故障文件1344-7920.csv": "风偏故障",
				"故障文件1344-7921.csv": "风偏故障",
				"故障文件1345-7926.csv": "风偏故障",
				"故障文件1345-7927.csv": "风偏故障",
				"故障文件1345-7928.csv": "风偏故障",
				"故障文件1350-7961.csv": "风偏故障",
				"故障文件1350-7962.csv": "风偏故障",
				"故障文件1351-7967.csv": "风偏故障",
				"故障文件1351-7968.csv": "风偏故障",
				"故障文件1352-7971.csv": "风偏故障",
				"故障文件1352-7972.csv": "风偏故障",
				"故障文件1353-7975.csv": "风偏故障",
				"故障文件1353-7976.csv": "风偏故障",
				"故障文件1355-7981.csv": "风偏故障",
				"故障文件1355-7984.csv": "风偏故障",
				"故障文件1359-8006.csv": "风偏故障",
				"故障文件1359-8007.csv": "风偏故障",
				"故障文件1359-8008.csv": "风偏故障",
				"故障文件1360-8013.csv": "风偏故障",
				"故障文件1360-8014.csv": "风偏故障",
				"故障文件1360-8015.csv": "风偏故障",
"故障文件1361-8020.csv": "风偏故障",
"故障文件1361-8021.csv": "风偏故障",
"故障文件1361-8022.csv": "风偏故障",
"故障文件1362-8023.csv": "风偏故障",
"故障文件1362-8024.csv": "风偏故障",
"故障文件1371-8079.csv": "风偏故障",
"故障文件1371-8080.csv": "风偏故障",
"故障文件1372-8089.csv": "风偏故障",
"故障文件1372-8090.csv": "风偏故障",
"故障文件1372-8091.csv": "风偏故障",
"故障文件1372-8092.csv": "风偏故障",
"故障文件1374-8102.csv": "风偏故障",
"故障文件1374-8106.csv": "风偏故障",
"故障文件1376-8111.csv": "风偏故障",
"故障文件1376-8114.csv": "风偏故障",
"故障文件1458-8610.csv": "风偏故障",
"故障文件1458-8617.csv": "风偏故障",
"故障文件1458-8618.csv": "风偏故障",
"故障文件1459-8625.csv": "风偏故障",
"故障文件1460-8631.csv": "风偏故障",
"故障文件1460-8632.csv": "风偏故障",
"故障文件1558-9268.csv": "风偏故障",
"故障文件1459-8626.csv": "风偏故障",
"故障文件1194-7025.csv": "覆冰故障",
"故障文件1194-7030.csv": "覆冰故障",
"故障文件1211-7131.csv": "覆冰故障",
"故障文件1211-7132.csv": "覆冰故障",
"故障文件1228-7245.csv": "覆冰故障",
"故障文件1228-7250.csv": "覆冰故障",
"故障文件1230-7262.csv": "覆冰故障",
"故障文件1230-7267.csv": "覆冰故障",
"故障文件1241-7328.csv": "覆冰故障",
"故障文件1241-7332.csv": "覆冰故障",
"故障文件1316-7786.csv": "覆冰故障",
"故障文件1473-8724.csv": "覆冰故障",
"故障文件1473-8729.csv": "覆冰故障",
"故障文件1541-9162.csv": "覆冰故障",
"故障文件1541-9163.csv": "覆冰故障",
"故障文件1541-9164.csv": "覆冰故障",
"故障文件1542-9168.csv": "覆冰故障",
"故障文件1542-9169.csv": "覆冰故障",
"故障文件1542-9170.csv": "覆冰故障",
"故障文件1575-9342.csv": "覆冰故障",
"故障文件1575-9343.csv": "覆冰故障",
"故障文件1577-9355.csv": "覆冰故障",
"故障文件1577-9356.csv": "覆冰故障",
"故障文件1732-10344.csv": "覆冰故障",
"故障文件1732-10346.csv": "覆冰故障",
"故障文件1758-10500.csv": "覆冰故障",
"故障文件1758-10501.csv": "覆冰故障",
"故障文件1758-10506.csv": "覆冰故障",
"故障文件1194-7025.csv": "火灾故障",
"故障文件1194-7030.csv": "火灾故障",
"故障文件1211-7131.csv": "火灾故障",
"故障文件1211-7132.csv": "火灾故障",
"故障文件1228-7245.csv": "火灾故障",
"故障文件1228-7250.csv": "火灾故障",
"故障文件1230-7262.csv": "火灾故障",
"故障文件1230-7267.csv": "火灾故障",
"故障文件1241-7328.csv": "火灾故障",
"故障文件1241-7332.csv": "火灾故障",
"故障文件1316-7786.csv": "火灾故障",
"故障文件1473-8724.csv": "火灾故障",
"故障文件1473-8729.csv": "火灾故障",
"故障文件1541-9162.csv": "火灾故障",
"故障文件1541-9163.csv": "火灾故障",
"故障文件1541-9164.csv": "火灾故障",
"故障文件1542-9168.csv": "火灾故障",
"故障文件1542-9169.csv": "火灾故障",
"故障文件1542-9170.csv": "火灾故障",
"故障文件1575-9342.csv": "火灾故障",
"故障文件1575-9343.csv": "火灾故障",
"故障文件1577-9355.csv": "火灾故障",
"故障文件1577-9356.csv": "火灾故障",
"故障文件1732-10344.csv": "火灾故障",
"故障文件1732-10346.csv": "火灾故障",
"故障文件1758-10500.csv": "火灾故障",
"故障文件1758-10501.csv": "火灾故障",
"故障文件1758-10506.csv": "火灾故障",
"故障文件515-3057.csv": "雷击故障",
"故障文件693-4095.csv": "雷击故障",
"故障文件914-5360.csv": "雷击故障",
"故障文件914-5361.csv": "雷击故障",
"故障文件1096-6435.csv": "雷击故障",
"故障文件1096-6440.csv": "雷击故障",
"故障文件1110-6500.csv": "雷击故障",
"故障文件1110-6501.csv": "雷击故障",
"故障文件1116-6537.csv": "雷击故障",
"故障文件1116-6538.csv": "雷击故障",
"故障文件1118-6549.csv": "雷击故障",
"故障文件1130-6623.csv": "雷击故障",
"故障文件1130-6626.csv": "雷击故障",
"故障文件1143-6702.csv": "雷击故障",
"故障文件1143-6703.csv": "雷击故障",
"故障文件1265-7462.csv": "雷击故障",
"故障文件1265-7467.csv": "雷击故障",
"故障文件1289-7600.csv": "雷击故障",
"故障文件1289-7601.csv": "雷击故障",
"故障文件1290-7606.csv": "雷击故障",
"故障文件1290-7611.csv": "雷击故障",
"故障文件1296-7642.csv": "雷击故障",
"故障文件1296-7644.csv": "雷击故障",
"故障文件1302-7682.csv": "雷击故障",
"故障文件1302-7685.csv": "雷击故障",
"故障文件1304-7696.csv": "雷击故障",
"故障文件1304-7697.csv": "雷击故障",
"故障文件1305-7705.csv": "雷击故障",
"故障文件1305-7707.csv": "雷击故障",
"故障文件1305-7708.csv": "雷击故障",
"故障文件1308-7733.csv": "雷击故障",
"故障文件1308-7734.csv": "雷击故障",
"故障文件1410-8331.csv": "雷击故障",
"故障文件1436-8472.csv": "雷击故障",
"故障文件1436-8473.csv": "雷击故障",
"故障文件1438-8484.csv": "雷击故障",
"故障文件1438-8485.csv": "雷击故障",
"故障文件1442-8518.csv": "雷击故障",
"故障文件1442-8521.csv": "雷击故障",
"故障文件1444-8530.csv": "雷击故障",
"故障文件1446-8543.csv": "雷击故障",
"故障文件1447-8546.csv": "雷击故障",
"故障文件1447-8551.csv": "雷击故障",
"故障文件1448-8555.csv": "雷击故障",
"故障文件1449-8560.csv": "雷击故障",
"故障文件1451-8569.csv": "雷击故障",
"故障文件1451-8572.csv": "雷击故障",
"故障文件1452-8578.csv": "雷击故障",
"故障文件1453-8581.csv": "雷击故障",
"故障文件1454-8590.csv": "雷击故障",
"故障文件1077-6315.csv": "鸟害故障",
"故障文件1082-6345.csv": "鸟害故障",
"故障文件1125-6592.csv": "鸟害故障",
"故障文件1132-6644.csv": "鸟害故障",
"故障文件1148-6735.csv": "鸟害故障",
"故障文件1168-6869.csv": "鸟害故障",
"故障文件1181-6956.csv": "鸟害故障",
"故障文件1189-6998.csv": "鸟害故障",
"故障文件1193-7022.csv": "鸟害故障",
"故障文件1204-7088.csv": "鸟害故障",
"故障文件1206-7105.csv": "鸟害故障",
"故障文件1207-7109.csv": "鸟害故障",
"故障文件1209-7121.csv": "鸟害故障",
"故障文件1209-7127.csv": "鸟害故障",
"故障文件1216-7161.csv": "鸟害故障",
"故障文件1231-7272.csv": "鸟害故障",
"故障文件1275-7527.csv": "鸟害故障",
"故障文件1301-7676.csv": "鸟害故障",
"故障文件1311-7753.csv": "鸟害故障",
"故障文件1319-7805.csv": "鸟害故障",
"故障文件1320-7810.csv": "鸟害故障",
"故障文件1335-7879.csv": "鸟害故障",
"故障文件1404-8288.csv": "鸟害故障",
"故障文件1417-8352.csv": "鸟害故障",
"故障文件1418-8358.csv": "鸟害故障",
"故障文件1077-6314.csv": "鸟害故障",
"故障文件1082-6342.csv": "鸟害故障",
"故障文件1125-6591.csv": "鸟害故障",
"故障文件1132-6639.csv": "鸟害故障",
"故障文件1148-6734.csv": "鸟害故障",
"故障文件1168-6867.csv": "鸟害故障",
"故障文件1181-6952.csv": "鸟害故障",
"故障文件1189-6997.csv": "鸟害故障",
"故障文件1193-7019.csv": "鸟害故障",
"故障文件1202-7080.csv": "鸟害故障",
"故障文件1204-7092.csv": "鸟害故障",
"故障文件1206-7106.csv": "鸟害故障",
"故障文件1207-7112.csv": "鸟害故障",
"故障文件1209-7122.csv": "鸟害故障",
"故障文件1212-7137.csv": "鸟害故障",
"故障文件1216-7164.csv": "鸟害故障",
"故障文件1274-7523.csv": "鸟害故障",
"故障文件1301-7675.csv": "鸟害故障",
"故障文件1301-7681.csv": "鸟害故障",
"故障文件1311-7754.csv": "鸟害故障",
"故障文件1319-7807.csv": "鸟害故障",
"故障文件1320-7812.csv": "鸟害故障",
"故障文件1335-7880.csv": "鸟害故障",
"故障文件1404-8293.csv": "鸟害故障",
"故障文件1417-8353.csv": "鸟害故障",
"故障文件1127-6606.csv": "外破故障",
"故障文件1138-6681.csv": "外破故障",
"故障文件1156-6795.csv": "外破故障",
"故障文件1191-7009.csv": "外破故障",
"故障文件1233-7286.csv": "外破故障",
"故障文件1237-7306.csv": "外破故障",
"故障文件1240-7321.csv": "外破故障",
"故障文件1337-7889.csv": "外破故障",
"故障文件1342-7907.csv": "外破故障",
"故障文件1392-8221.csv": "外破故障",
"故障文件1402-8279.csv": "外破故障",
"故障文件1420-8370.csv": "外破故障",
"故障文件1469-8696.csv": "外破故障",
"故障文件1470-8701.csv": "外破故障",
"故障文件1485-8801.csv": "外破故障",
"故障文件1536-9134.csv": "外破故障",
"故障文件1636-9738.csv": "外破故障",
"故障文件1637-9742.csv": "外破故障",
"故障文件1793-10730.csv": "外破故障",
"故障文件1821-10910.csv": "外破故障",
"故障文件1821-10912.csv": "外破故障",
"故障文件1836-10995.csv": "外破故障",
"故障文件1845-11047.csv": "外破故障",
"故障文件1845-11051.csv": "外破故障",
"故障文件1127-6605.csv": "外破故障",
"故障文件1138-6678.csv": "外破故障",
"故障文件1156-6792.csv": "外破故障",
"故障文件1191-7006.csv": "外破故障",
"故障文件1233-7285.csv": "外破故障",
"故障文件1237-7305.csv": "外破故障",
"故障文件1240-7320.csv": "外破故障",
"故障文件1257-7414.csv": "外破故障",
"故障文件1342-7904.csv": "外破故障",
"故障文件1392-8216.csv": "外破故障",
"故障文件1402-8274.csv": "外破故障",
"故障文件1420-8369.csv": "外破故障",
"故障文件1470-8700.csv": "外破故障",
"故障文件1470-8702.csv": "外破故障",
"故障文件1536-9131.csv": "外破故障",
"故障文件1547-9202.csv": "外破故障",
"故障文件1636-9741.csv": "外破故障",
"故障文件1637-9745.csv": "外破故障",
"故障文件1821-10909.csv": "外破故障",
"故障文件1821-10911.csv": "外破故障",
"故障文件1833-10973.csv": "外破故障",
"故障文件1836-10999.csv": "外破故障",
"故障文件1845-11048.csv": "外破故障",
"故障文件898-5271.csv": "异物故障",
"故障文件1112-6514.csv": "异物故障",
"故障文件1164-6840.csv": "异物故障",
"故障文件1188-6991.csv": "异物故障",
"故障文件1208-7115.csv": "异物故障",
"故障文件1217-7173.csv": "异物故障",
"故障文件1224-7218.csv": "异物故障",
"故障文件1229-7258.csv": "异物故障",
"故障文件1232-7278.csv": "异物故障",
"故障文件1234-7288.csv": "异物故障",
"故障文件1238-7312.csv": "异物故障",
"故障文件1246-7356.csv": "异物故障",
"故障文件1259-7425.csv": "异物故障",
"故障文件1260-7431.csv": "异物故障",
"故障文件1260-7433.csv": "异物故障",
"故障文件1288-7596.csv": "异物故障",
"故障文件1306-7722.csv": "异物故障",
"故障文件1309-7739.csv": "异物故障",
"故障文件1315-7780.csv": "异物故障",
"故障文件1318-7798.csv": "异物故障",
"故障文件1321-7816.csv": "异物故障",
"故障文件1385-8173.csv": "异物故障",
"故障文件1385-8175.csv": "异物故障",
"故障文件1388-8193.csv": "异物故障",
"故障文件1395-8233.csv": "异物故障",
"故障文件898-5270.csv": "异物故障",
"故障文件1112-6513.csv": "异物故障",
"故障文件1141-6694.csv": "异物故障",
"故障文件1164-6841.csv": "异物故障",
"故障文件1188-6993.csv": "异物故障",
"故障文件1210-7128.csv": "异物故障",
"故障文件1217-7177.csv": "异物故障",
"故障文件1224-7219.csv": "异物故障",
"故障文件1229-7261.csv": "异物故障",
"故障文件1232-7279.csv": "异物故障",
"故障文件1234-7289.csv": "异物故障",
"故障文件1246-7355.csv": "异物故障",
"故障文件1259-7424.csv": "异物故障",
"故障文件1259-7426.csv": "异物故障",
"故障文件1260-7432.csv": "异物故障",
"故障文件1288-7595.csv": "异物故障",
"故障文件1288-7599.csv": "异物故障",
"故障文件1306-7724.csv": "异物故障",
"故障文件1309-7744.csv": "异物故障",
"故障文件1315-7783.csv": "异物故障",
"故障文件1318-7799.csv": "异物故障",
"故障文件1321-7821.csv": "异物故障",
"故障文件1385-8174.csv": "异物故障",
"故障文件1388-8192.csv": "异物故障",
"故障文件1395-8231.csv": "异物故障",
				// 在此添加其他故障文件信息...
			};

			let currentFile = null;

			// 拖放事件处理
			function dragoverHandler(e) {
				e.preventDefault();
				e.stopPropagation();
				document.getElementById('dropZone').classList.add('dragover');
			}

			function dragleaveHandler(e) {
				e.preventDefault();
				e.stopPropagation();
				document.getElementById('dropZone').classList.remove('dragover');
			}

			function dropHandler(e) {
				e.preventDefault();
				e.stopPropagation();
				document.getElementById('dropZone').classList.remove('dragover');
				
				const files = e.dataTransfer.files;
				if (files.length > 0) {
					currentFile = files[0];
					document.getElementById('fileInput').value = currentFile.name;
				}
			}

			// 文件处理函数
			function processFile() {
				if (!currentFile) {
					alert('请先选择文件');
					return;
				}

				if (!currentFile.name.endsWith('.csv')) {
					alert('仅支持CSV格式文件');
					return;
				}

				const fileName = currentFile.name;
				const resultContent = document.getElementById('resultContent');
				document.getElementById('outputBox').style.display = 'block';

				const faultType = fileInfoMap[fileName];

				if (faultType) {
					resultContent.innerHTML = `
						<div class="result-box">
							<iconify-icon icon="mdi:alert-octagon" style="color: #dc3545;"></iconify-icon>
							<span style="margin-left:10px">已识别故障类型：</span>
							<div class="fault-type">${faultType}</div>
							<div class="timestamp">
								<iconify-icon icon="mdi:clock-outline"></iconify-icon>
								检测时间：${new Date().toLocaleString()}
							</div>
						</div>
					`;
				} else {
					resultContent.innerHTML = `
						<div class="result-box" style="background:#fff3cd">
							<iconify-icon icon="mdi:alert-circle-outline" style="color: #ffc107;"></iconify-icon>
							<span style="margin-left:10px">未登记故障类型</span>
							<p>该文件尚未录入数据库，请联系管理员处理</p>
						</div>
					`;
				}
			}

			// 点击选择文件
			document.getElementById('fileInput').addEventListener('click', () => {
				const input = document.createElement('input');
				input.type = 'file';
				input.accept = '.csv';
				input.onchange = e => {
					currentFile = e.target.files[0];
					document.getElementById('fileInput').value = currentFile.name;
				};
				input.click();
			});
		</script>
	</body>
</html>